{"version":3,"sources":["api/api.js","components/Card/Card.jsx","components/Cards/Cards.jsx","components/BuyCheepest/BuyCheepest.jsx","img/arrow-right.svg","components/Form/Input/InputText.jsx","components/Form/Input/InputNumber.jsx","components/Form/Form.jsx","components/ModalOverlay/ModalOverlay.jsx","components/App/App.js","store/actions/actionModals.js","reportWebVitals.js","store/reducers/modal.js","store/reducers/index.js","index.js"],"names":["getProducts","a","fetch","request","json","console","error","Card","product","openModal","category","name","price","log","className","onClick","Cards","React","memo","products","map","index","BuyCheepest","modal","type","InputText","handleInput","currentName","setCorrectName","useState","nameError","setNameError","inputValidation","value","trim","match","placeholder","autoComplete","classNames","onBlur","onChange","event","target","InputNumber","currentPhone","setCorrectPhone","phoneError","setPhoneError","length","Form","setName","setPhone","isCorrectName","isCorrectPhone","action","onSubmit","preventDefault","src","image","alt","ModalOverlay","closeModal","connect","state","reducerForModal","currentProduct","dispatch","payload","setProducts","cheepestProduct","setCheepest","useEffect","productsFromServer","sort","prodA","prodB","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","rootReducer","combineReducers","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.580300f2.chunk.js","sourcesContent":["const URL = `https://run.mocky.io/v3/b7d36eea-0b3f-414a-ba44-711b5f5e528e`;\n\nexport const getProducts = async () => {\n  try {\n    const request = await fetch(URL);\n\n    return await request.json();\n  } catch (error) {\n    console.error(error);\n  }\n}\n","import React from 'react';\nimport './Card.scss';\n\nexport const Card = ({ product, openModal }) => {\n  const { category, name, price } = product;\n\n  console.log('card render');\n\n  return (\n    <div className=\"Card\">\n      <h3 className=\"Card__category\">\n        {category}\n      </h3>\n      <h2 className=\"Card__title\">\n        {name}\n      </h2>\n\n      <div className=\"Card__additional\">\n        <p className=\"Card__price\">\n          <span className=\"Card__currency\">$</span>\n          <strong className=\"Card__price-value\">{price}</strong>\n        </p>\n        <button\n          className=\"Card__button\"\n          onClick={() => openModal(product)}\n        >\n          Buy\n        </button>\n      </div>\n    </div>\n  )\n}\n","import React, { memo } from 'react';\nimport './Cards.scss';\n\nimport { Card } from '../Card/Card';\n\nexport const Cards = React.memo(\n  ({ openModal, products }) =>  (\n    <section className=\"Cards\">\n      {\n        products.map((product, index) => (\n          <Card\n            // there are no ids :((\n            key={index}\n            product={product}\n            openModal={openModal}\n          />\n        ))\n      }\n    </section>\n  )\n)\n","import React from 'react';\nimport './BuyCheepest.scss';\n\nexport const BuyCheepest = ({ modal, openModal }) => {\n\n  return (\n    <button\n      className=\"BuyCheepest\"\n      type=\"button\"\n      onClick={() => openModal(modal)}\n    >\n      Buy Cheepest\n    </button>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/arrow-right.2859eaf0.svg\";","import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport './Input.scss';\n\nexport const InputText = ({ handleInput, currentName, setCorrectName }) => {\n  const [ nameError, setNameError ] = useState('');\n\n  const inputValidation = (value) => {\n    if (!value.trim()) {\n      setNameError('This field in required');\n      setCorrectName(false);\n\n      return;\n    }\n\n    if (value.match(/[^a-zA-Z]/gi)) {\n      setNameError('Only letters allowed');\n      setCorrectName(false);\n\n      return;\n    }\n\n    setNameError('');\n    setCorrectName(true);\n  }\n\n  return (\n    <div>\n      <input\n        type=\"tel\"\n        name=\"name\"\n        placeholder=\"Name\"\n        autoComplete=\"off\"\n        value={currentName}\n        className={classNames(\"Input\", {\n          \"Input--error\": nameError,\n        })}\n        onBlur={() => inputValidation(currentName)}\n        onChange={event => {\n          handleInput(event);\n          inputValidation(event.target.value)\n          setNameError('');\n        }}\n      />\n\n      <p className=\"Input__error\">\n        {nameError}\n      </p>\n    </div>\n  )\n}\n","import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport './Input.scss';\n\nexport const InputNumber = ({ handleInput, currentPhone, setCorrectPhone }) => {\n  const [ phoneError, setPhoneError ] = useState('');\n\n  const inputValidation = (value) => {\n    if (!value.trim()) {\n      setPhoneError('This field in required');\n      setCorrectPhone(false);\n\n      return;\n    }\n\n    if (value.match(/[^0-9]/gi)) {\n      setPhoneError('Only numbers allowed');\n      setCorrectPhone(false);\n\n      return;\n    }\n\n    if (value.length !== 12) {\n      setPhoneError('Should contain 12 characters')\n\n      return;\n    }\n\n    setPhoneError('');\n    setCorrectPhone(true);\n  }\n\n  return (\n    <div>\n      <input\n        type=\"tel\"\n        name=\"number\"\n        placeholder=\"Phone number\"\n        autoComplete=\"off\"\n        value={currentPhone}\n        className={classNames(\"Input\", {\n          \"Input--error\": phoneError,\n        })}\n        onBlur={() => inputValidation(currentPhone)}\n        onChange={event => {\n          handleInput(event);\n          inputValidation(event.target.value)\n          setPhoneError('');\n        }}\n      />\n\n      <p className=\"Input__error\">\n        {phoneError}\n      </p>\n    </div>\n  )\n}\n","import React, { useState } from 'react';\nimport './Form.scss';\nimport image from '../../img/arrow-right.svg';\n\nimport { InputText } from './Input/InputText';\nimport { InputNumber } from './Input/InputNumber';\n\nexport const Form = () => {\n  const [ currentName, setName ] = useState('');\n  const [ currentPhone, setPhone ] = useState('');\n\n  const [ isCorrectName, setCorrectName ] = useState('');\n  const [ isCorrectPhone, setCorrectPhone ] = useState('');\n\n  const handleInput = (event) => {\n    const { name, value } = event.target;\n\n    switch (name) {\n      case 'number':\n        setPhone(value);\n        break;\n      \n      case 'name':\n        setName(value);\n        break;\n    \n      default:\n        break;\n    }\n  }\n\n  return (\n    <form\n      action=\"\"\n      className=\"Form\"\n      onSubmit={(event) => {\n        event.preventDefault();\n\n        if (isCorrectName && isCorrectPhone) {\n          console.log(currentName, currentPhone);\n          setName('');\n          setPhone('');\n          setCorrectName(false);\n          setCorrectPhone(false);\n        }\n      }}\n    >\n      <InputText\n        handleInput={handleInput}\n        currentName={currentName}\n        setCorrectName={setCorrectName}\n      />\n\n      <InputNumber\n        handleInput={handleInput}\n        currentPhone={currentPhone}\n        setCorrectPhone={setCorrectPhone}\n      />\n\n      <button\n        className=\"Form__button\"\n        type=\"submit\"\n      >\n        Order\n        <img src={image} alt=\"arrow right\"/>\n      </button>\n    </form>\n  )\n}\n","import React from 'react';\nimport './ModalOverlay.scss';\n\nimport { Form } from '../Form/Form';\n\nexport const ModalOverlay = ({ modal, closeModal }) => {\n\n  return (\n    <div className=\"ModalOverlay\">\n      <div className=\"ModalOverlay__content\">\n        <button\n          className=\"ModalOverlay__close\"\n          onClick={() => closeModal()}\n        ></button>\n\n        <h3 className=\"ModalOverlay__category\">\n          {modal.category}\n        </h3>\n          \n        <h2 className=\"ModalOverlay__name\">\n          {modal.name}\n        </h2>\n\n        <p className=\"ModalOverlay__price\">\n          <span className=\"ModalOverlay__currency\">$</span>\n          <strong className=\"ModalOverlay__value\">\n            {modal.price}\n          </strong>\n        </p>\n\n        <Form />\n      </div>\n    </div>\n  )\n}\n\n","import React, { useState, useEffect } from 'react';\n\nimport { connect } from 'react-redux';\nimport './App.scss';\nimport '../../styles/utils.scss';\nimport ReactDOM from 'react-dom';\n\nimport { getProducts } from '../../api/api';\nimport { Cards } from '../Cards/Cards';\nimport { BuyCheepest } from '../BuyCheepest/BuyCheepest';\nimport { ModalOverlay } from '../ModalOverlay/ModalOverlay';\n\nimport { closeModal, openModal } from '../../store/actions/actionModals';\n\nfunction App({ modal, openModal, closeModal }) {\n  const [ products, setProducts ] = useState([]);\n  const [ cheepestProduct, setCheepest ] = useState({});\n\n  useEffect( async() => {\n    const productsFromServer = await getProducts();\n\n    setProducts(productsFromServer);\n    setCheepest([...productsFromServer]\n      .sort((prodA, prodB) => prodA.price - prodB.price)[0]\n    );\n  }, []);\n\n  return (\n    <>\n      <main className=\"App\">\n        <Cards\n          products={products}\n          openModal={openModal}\n        />\n        <BuyCheepest\n          modal={cheepestProduct}\n          openModal={openModal}\n        />\n      </main>\n\n      <div>\n        {modal && \n          <ModalOverlay\n            modal={modal}\n            closeModal={closeModal}\n          />\n        }\n      </div>\n    </>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    modal: state.reducerForModal.currentProduct,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    openModal: modal => {\n      dispatch(openModal(modal))\n    },\n\n    closeModal: () => {\n      dispatch(closeModal())\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","export const openModal = (modal) => {\n  return {\n    type: \"OPEN_MODAL\",\n    payload: modal,\n  }\n}\n\nexport const closeModal = () => {\n  return {\n    type: \"CLOSE_MODAL\",\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initialState = {\n  currentProduct: null,\n}\n\nconst reducerForModal = (state = initialState, action) => {\n  switch (action.type) {\n    case 'OPEN_MODAL':\n      return {\n        ...state,\n        currentProduct: action.payload,\n      }\n\n    case 'CLOSE_MODAL':\n      return {\n        ...state,\n        currentProduct: null,\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport default reducerForModal;\n","import { combineReducers } from 'redux';\nimport reducerForModal from './modal';\n\nconst rootReducer = combineReducers({\n  reducerForModal,\n});\n\nexport default rootReducer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport rootReducer from './store/reducers/index';\n\nconst store = createStore(\n  rootReducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}